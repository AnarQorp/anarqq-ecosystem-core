{
  "name": "qwallet",
  "version": "1.0.0",
  "description": "Qwallet MCP Tools - Payments & Fees Module",
  "tools": [
    {
      "name": "wallet.sign",
      "description": "Sign transaction with sQuid identity",
      "inputSchema": {
        "type": "object",
        "properties": {
          "squidId": {
            "type": "string",
            "description": "sQuid identity ID"
          },
          "intentId": {
            "type": "string",
            "description": "Payment intent ID to sign"
          },
          "signature": {
            "type": "string",
            "description": "Cryptographic signature"
          }
        },
        "required": ["squidId", "intentId", "signature"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "transactionId": {
            "type": "string"
          },
          "signature": {
            "type": "string"
          },
          "gasEstimate": {
            "type": "number"
          },
          "error": {
            "type": "string"
          }
        }
      }
    },
    {
      "name": "wallet.pay",
      "description": "Process payment transaction",
      "inputSchema": {
        "type": "object",
        "properties": {
          "squidId": {
            "type": "string",
            "description": "sQuid identity ID"
          },
          "transactionId": {
            "type": "string",
            "description": "Signed transaction ID"
          }
        },
        "required": ["squidId", "transactionId"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "transactionId": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": ["SETTLED", "FAILED"]
          },
          "settlementHash": {
            "type": "string"
          },
          "settledAt": {
            "type": "string",
            "format": "date-time"
          },
          "error": {
            "type": "string"
          }
        }
      }
    },
    {
      "name": "wallet.quote",
      "description": "Get payment quote with fees and timing",
      "inputSchema": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "minimum": 0.01,
            "description": "Payment amount"
          },
          "currency": {
            "type": "string",
            "enum": ["QToken", "PI"],
            "description": "Payment currency"
          },
          "network": {
            "type": "string",
            "description": "Target blockchain network"
          },
          "priority": {
            "type": "string",
            "enum": ["low", "normal", "high"],
            "default": "normal",
            "description": "Transaction priority"
          }
        },
        "required": ["amount", "currency"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "fees": {
            "type": "object",
            "properties": {
              "network": {
                "type": "number"
              },
              "platform": {
                "type": "number"
              },
              "total": {
                "type": "number"
              }
            }
          },
          "estimatedTime": {
            "type": "string"
          },
          "exchangeRate": {
            "type": "number"
          },
          "error": {
            "type": "string"
          }
        }
      }
    },
    {
      "name": "wallet.balance",
      "description": "Get wallet balance for sQuid identity",
      "inputSchema": {
        "type": "object",
        "properties": {
          "squidId": {
            "type": "string",
            "description": "sQuid identity ID"
          },
          "currency": {
            "type": "string",
            "enum": ["QToken", "PI"],
            "description": "Currency to check (optional, returns all if not specified)"
          }
        },
        "required": ["squidId"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "squidId": {
            "type": "string"
          },
          "balances": {
            "type": "object",
            "additionalProperties": {
              "type": "number"
            }
          },
          "walletAddress": {
            "type": "string"
          },
          "lastUpdated": {
            "type": "string",
            "format": "date-time"
          },
          "error": {
            "type": "string"
          }
        }
      }
    },
    {
      "name": "wallet.intent",
      "description": "Create payment intent",
      "inputSchema": {
        "type": "object",
        "properties": {
          "squidId": {
            "type": "string",
            "description": "sQuid identity ID"
          },
          "amount": {
            "type": "number",
            "minimum": 0.01,
            "description": "Payment amount"
          },
          "currency": {
            "type": "string",
            "enum": ["QToken", "PI"],
            "description": "Payment currency"
          },
          "recipient": {
            "type": "string",
            "description": "Recipient sQuid ID or wallet address"
          },
          "purpose": {
            "type": "string",
            "description": "Payment purpose description"
          },
          "metadata": {
            "type": "object",
            "description": "Additional payment metadata"
          },
          "expiresIn": {
            "type": "integer",
            "description": "Expiration time in seconds (default: 3600)"
          }
        },
        "required": ["squidId", "amount", "currency", "recipient"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "intentId": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "recipient": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": ["PENDING", "SIGNED", "SETTLED", "FAILED", "EXPIRED"]
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time"
          },
          "error": {
            "type": "string"
          }
        }
      }
    }
  ],
  "resources": [
    {
      "uri": "qwallet://transactions",
      "name": "Transaction History",
      "description": "Access to transaction history and payment records"
    },
    {
      "uri": "qwallet://balances",
      "name": "Wallet Balances",
      "description": "Access to wallet balance information"
    },
    {
      "uri": "qwallet://intents",
      "name": "Payment Intents",
      "description": "Access to payment intent management"
    }
  ],
  "prompts": [
    {
      "name": "payment-summary",
      "description": "Generate payment summary for identity",
      "arguments": [
        {
          "name": "squidId",
          "description": "sQuid identity ID",
          "required": true
        },
        {
          "name": "period",
          "description": "Time period (7d, 30d, 90d)",
          "required": false
        }
      ]
    },
    {
      "name": "transaction-analysis",
      "description": "Analyze transaction patterns and spending",
      "arguments": [
        {
          "name": "squidId",
          "description": "sQuid identity ID",
          "required": true
        },
        {
          "name": "analysisType",
          "description": "Type of analysis (spending, income, patterns)",
          "required": false
        }
      ]
    }
  ]
}